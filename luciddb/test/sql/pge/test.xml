<project name="bh" default="pge">
  <target name="pge">
    <test-suite name="pge">

      <init-hook>
        <test-suite name="init">
          <test-suite-call testfile="${open.dir}/luciddb/test/sql/tinit.xml">
            <test-suite-modifier value="pge"/>
          </test-suite-call>
        </test-suite>
      </init-hook>

      <test name="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/create.sql"/>
      </test>

      <test name="index" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/index.sql"/>
      </test>

      <test name="cubes" requiresSuccess="creschema">
        <test-metadata>
          <notImplemented value="true"/>
        </test-metadata>
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/cubes.sql"/>
      </test>

      <test name="1" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/1.sql"/>
      </test>

      <test name="2" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/2.sql"/>
      </test>

      <test name="3" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/3.sql"/>
      </test>

      <test name="4" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/4.sql"/>
      </test>

      <test name="5" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/5.sql"/>
      </test>

      <test name="6" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/6.sql"/>
      </test>

      <test name="7" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/7.sql"/>
      </test>

      <test name="8" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/8.sql"/>
      </test>

      <test name="9" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/9.sql"/>
      </test>

      <test name="10" requiresSuccess="creschema">
        <!-- FRG-114 not implemented yet and commented out DESC -->
        <test-metadata>
          <notImplemented value="true"/>
        </test-metadata>
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/10.sql"/>
      </test>

      <test name="11" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/11.sql"/>
      </test>

      <test name="12" requiresSuccess="creschema">
        <!-- FRG-114 not implemented yet -->
        <test-metadata>
          <notImplemented value="true"/>
        </test-metadata>
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/12.sql"/>
      </test>

      <test name="13" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/13.sql"/>
      </test>

      <test name="14" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/14.sql"/>
      </test>

      <test name="15" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/15.sql"/>
      </test>

      <test name="16" requiresSuccess="creschema">
        <!-- DESC not supported -->
        <test-metadata>
          <notImplemented value="true"/>
        </test-metadata>
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/16.sql"/>
      </test>

      <test name="17" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/17.sql"/>
      </test>

      <test name="18" requiresSuccess="creschema">
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/18.sql"/>
      </test>

      <test name="19" requiresSuccess="creschema">
        <!-- DISTINCT and OUTER JOIN not supported/slow -->
        <test-metadata>
          <knownFailure value="true"/>
        </test-metadata>
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/19.sql"/>
      </test>

      <test name="20" requiresSuccess="creschema">
        <!-- OUTER JOIN and DISTINCT not supported/slow -->
        <test-metadata>
          <knownFailure value="true"/>
        </test-metadata>
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/20.sql"/>
      </test>

      <test name="20b" requiresSuccess="creschema">
        <!-- OUTER JOIN and DISTINCT not supported/slow-->
        <test-metadata>
          <knownFailure value="true"/>
        </test-metadata>
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/20b.sql"/>
      </test>

      <test name="21" requiresSuccess="creschema">
        <!-- subquery in from clause -->
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/21.sql"/>
      </test>
      
      <test name="22" requiresSuccess="creschema">
        <!-- uses rank function which isn't supported -->
        <test-metadata>
          <notImplemented value="true"/>
        </test-metadata>
        <junit-sql file="${open.dir}/luciddb/test/sql/pge/gen/oracle/22.sql"/>
      </test>

      <cleanup-hook>
        <test-suite name="cleanup">
          <test-suite-call testfile="${open.dir}/luciddb/test/sql/tdone.xml">
            <test-suite-modifier value="pge"/>
          </test-suite-call>
        </test-suite>
      </cleanup-hook>

    </test-suite>
  </target>
</project>
