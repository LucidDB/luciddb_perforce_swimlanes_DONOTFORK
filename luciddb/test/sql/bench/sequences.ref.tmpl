0: jdbc:luciddb:> create schema seq;
0: jdbc:luciddb:> set schema 'seq';
0: jdbc:luciddb:> 
0: jdbc:luciddb:> --
0: jdbc:luciddb:> -- create tables with auto-increment column
0: jdbc:luciddb:> --
0: jdbc:luciddb:> create table seq.seq210 (
. . . . . . . . > seqcol bigint generated by default as identity
. . . . . . . . >   (minvalue -9 maxvalue 200 start with 0 cycle),
. . . . . . . . > "kseq" bigint primary key,
. . . . . . . . > "k2" bigint,
. . . . . . . . > "k4" bigint,
. . . . . . . . > "k5" bigint,
. . . . . . . . > "k10" bigint,
. . . . . . . . > "k25" bigint,
. . . . . . . . > "k100" bigint,
. . . . . . . . > "k1k" bigint,
. . . . . . . . > "k10k" bigint,
. . . . . . . . > "k40k" bigint,
. . . . . . . . > "k100k" bigint,
. . . . . . . . > "k250k" bigint,
. . . . . . . . > "k500k" bigint)
. . . . . . . . > server @DATA_STORE@;
0: jdbc:luciddb:> 
0: jdbc:luciddb:> create table seq.seq10k(
. . . . . . . . > seq10kcol bigint generated by default as identity
. . . . . . . . >   (minvalue 0 maxvalue 10000 increment by 1),
. . . . . . . . > "kseq" bigint primary key,
. . . . . . . . > "k2" bigint,
. . . . . . . . > "k4" bigint,
. . . . . . . . > "k5" bigint,
. . . . . . . . > "k10" bigint,
. . . . . . . . > "k25" bigint,
. . . . . . . . > "k100" bigint,
. . . . . . . . > "k1k" bigint,
. . . . . . . . > "k10k" bigint,
. . . . . . . . > "k40k" bigint,
. . . . . . . . > "k100k" bigint,
. . . . . . . . > "k250k" bigint,
. . . . . . . . > "k500k" bigint)
. . . . . . . . > server @DATA_STORE@;
0: jdbc:luciddb:> 
0: jdbc:luciddb:> -- 
0: jdbc:luciddb:> -- inserts/queries
0: jdbc:luciddb:> --
0: jdbc:luciddb:> insert into seq.seq210("kseq","k2","k4","k5","k10","k25","k100","k1k","k10k",
. . . . . . . . >   "k40k","k100k", "k250k", "k500k")
. . . . . . . . > select "kseq","k2","k4","k5","k10","k25","k100","k1k","k10k","k40k","k100k","k250k","k500k"
. . . . . . . . > FROM @name_prefix@_schema."bench100";
0: jdbc:luciddb:> 
0: jdbc:luciddb:> insert into seq.seq210("kseq","k2","k4","k5","k10","k25","k100","k1k","k10k",
. . . . . . . . >   "k40k","k100k", "k250k", "k500k")
. . . . . . . . > select "kseq","k2","k4","k5","k10","k25","k100","k1k","k10k","k40k","k100k","k250k","k500k"
. . . . . . . . > FROM @name_prefix@_schema."bench100";
0: jdbc:luciddb:> 
0: jdbc:luciddb:> insert into seq.seq210("kseq","k2","k4","k5","k10","k25","k100","k1k","k10k",
. . . . . . . . >   "k40k","k100k", "k250k", "k500k")
. . . . . . . . > select "kseq","k2","k4","k5","k10","k25","k100","k1k","k10k","k40k","k100k","k250k","k500k"
. . . . . . . . > FROM @name_prefix@_schema."bench100";
0: jdbc:luciddb:> 
0: jdbc:luciddb:> select count(distinct seqcol) from seq.seq210;
+---------+
| EXPR$0  |
+---------+
| 210     |
+---------+
0: jdbc:luciddb:> 
0: jdbc:luciddb:> delete from seq.seq210 where "kseq" in (50,51,52,53,54,55,56,57,58,59);
0: jdbc:luciddb:> 
0: jdbc:luciddb:> select count(distinct seqcol) from seq.seq210;
+---------+
| EXPR$0  |
+---------+
| 200     |
+---------+
0: jdbc:luciddb:> 
0: jdbc:luciddb:> insert into seq.seq210 ("kseq") values (101);
0: jdbc:luciddb:> 
0: jdbc:luciddb:> alter table seq.seq210 alter column seqcol
. . . . . . . . >   set minvalue 30;
0: jdbc:luciddb:> 
0: jdbc:luciddb:> insert into seq.seq210("kseq") values(102);
0: jdbc:luciddb:> 
0: jdbc:luciddb:> -- should fail, sequence start is higher than maxvalue
0: jdbc:luciddb:> alter table seq.seq210 alter column seqcol
. . . . . . . . >   set maxvalue 60;
Error: Sequence start 92 is required to be between min value 30 and max value 60 (state=,code=0)
0: jdbc:luciddb:> 
0: jdbc:luciddb:> alter table seq.seq210 alter column seqcol
. . . . . . . . >   set maxvalue 100 set increment by -1;
0: jdbc:luciddb:> 
0: jdbc:luciddb:> insert into seq.seq210("kseq") values(103);
0: jdbc:luciddb:> 
0: jdbc:luciddb:> insert into seq.seq210("kseq") values(104), (105);
0: jdbc:luciddb:> 
0: jdbc:luciddb:> select * from seq.seq210 where "kseq" > 100
. . . . . . . . > order by "kseq";
+---------+-------+-----+-----+-----+------+------+-------+------+-------+-------+--------+--------+--------+
| SEQCOL  | kseq  | k2  | k4  | k5  | k10  | k25  | k100  | k1k  | k10k  | k40k  | k100k  | k250k  | k500k  |
+---------+-------+-----+-----+-----+------+------+-------+------+-------+-------+--------+--------+--------+
| 90      | 101   |     |     |     |      |      |       |      |       |       |        |        |        |
| 91      | 102   |     |     |     |      |      |       |      |       |       |        |        |        |
| 30      | 103   |     |     |     |      |      |       |      |       |       |        |        |        |
| 100     | 104   |     |     |     |      |      |       |      |       |       |        |        |        |
| 99      | 105   |     |     |     |      |      |       |      |       |       |        |        |        |
+---------+-------+-----+-----+-----+------+------+-------+------+-------+-------+--------+--------+--------+
0: jdbc:luciddb:> 
0: jdbc:luciddb:> -- should fail
0: jdbc:luciddb:> alter table seq.seq210 alter column seqcol
. . . . . . . . >   set maxvalue 60 set increment by 10;
Error: Sequence start 98 is required to be between min value 30 and max value 60 (state=,code=0)
0: jdbc:luciddb:> 
0: jdbc:luciddb:> -- if alter table fails, base value resets..
0: jdbc:luciddb:> insert into seq.seq210("kseq") values (106), (107), (108), (109);
0: jdbc:luciddb:> 
0: jdbc:luciddb:> select * from seq.seq210 where "kseq" > 100
. . . . . . . . > order by "kseq";
+---------+-------+-----+-----+-----+------+------+-------+------+-------+-------+--------+--------+--------+
| SEQCOL  | kseq  | k2  | k4  | k5  | k10  | k25  | k100  | k1k  | k10k  | k40k  | k100k  | k250k  | k500k  |
+---------+-------+-----+-----+-----+------+------+-------+------+-------+-------+--------+--------+--------+
| 90      | 101   |     |     |     |      |      |       |      |       |       |        |        |        |
| 91      | 102   |     |     |     |      |      |       |      |       |       |        |        |        |
| 30      | 103   |     |     |     |      |      |       |      |       |       |        |        |        |
| 100     | 104   |     |     |     |      |      |       |      |       |       |        |        |        |
| 99      | 105   |     |     |     |      |      |       |      |       |       |        |        |        |
| 100     | 106   |     |     |     |      |      |       |      |       |       |        |        |        |
| 99      | 107   |     |     |     |      |      |       |      |       |       |        |        |        |
| 98      | 108   |     |     |     |      |      |       |      |       |       |        |        |        |
| 97      | 109   |     |     |     |      |      |       |      |       |       |        |        |        |
+---------+-------+-----+-----+-----+------+------+-------+------+-------+-------+--------+--------+--------+
0: jdbc:luciddb:> 
0: jdbc:luciddb:> alter table seq.seq210 alter column seqcol
. . . . . . . . >   set increment by 1 set no cycle;
0: jdbc:luciddb:> 
0: jdbc:luciddb:> truncate table seq.seq210;
0: jdbc:luciddb:> 
0: jdbc:luciddb:> --
0: jdbc:luciddb:> --
0: jdbc:luciddb:> 
0: jdbc:luciddb:> insert into seq.seq10k("kseq","k2","k4","k5","k10","k25","k100","k1k","k10k",
. . . . . . . . >   "k40k","k100k", "k250k", "k500k")
. . . . . . . . > select "kseq","k2","k4","k5","k10","k25","k100","k1k","k10k","k40k","k100k","k250k","k500k"
. . . . . . . . > FROM @name_prefix@_schema."bench10K";
0: jdbc:luciddb:> 
0: jdbc:luciddb:> select count (distinct seq10kcol) from seq.seq10k;
+---------+
| EXPR$0  |
+---------+
| 10000   |
+---------+
0: jdbc:luciddb:> 
0: jdbc:luciddb:> insert into seq.seq10k(seq10kcol, "kseq") values (50, 10001);
0: jdbc:luciddb:> 
0: jdbc:luciddb:> insert into seq.seq10k("kseq") values (10002);
0: jdbc:luciddb:> 
0: jdbc:luciddb:> insert into seq.seq210("kseq") values (1), (2);
0: jdbc:luciddb:> 
0: jdbc:luciddb:> select * from seq.seq210 order by "kseq";
+---------+-------+-----+-----+-----+------+------+-------+------+-------+-------+--------+--------+--------+
| SEQCOL  | kseq  | k2  | k4  | k5  | k10  | k25  | k100  | k1k  | k10k  | k40k  | k100k  | k250k  | k500k  |
+---------+-------+-----+-----+-----+------+------+-------+------+-------+-------+--------+--------+--------+
| 96      | 1     |     |     |     |      |      |       |      |       |       |        |        |        |
| 97      | 2     |     |     |     |      |      |       |      |       |       |        |        |        |
+---------+-------+-----+-----+-----+------+------+-------+------+-------+-------+--------+--------+--------+
0: jdbc:luciddb:> 
0: jdbc:luciddb:> 
0: jdbc:luciddb:> !quit
