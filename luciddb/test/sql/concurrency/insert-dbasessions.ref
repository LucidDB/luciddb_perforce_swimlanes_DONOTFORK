-- setup
> select session_user_name,is_txn_in_progress
> from sys_root.dba_sessions order by 1;
+----------------------------------------------------------------------------------------------------------------------------------+--------------------+
| SESSION_USER_NAME                                                                                                                | IS_TXN_IN_PROGRESS |
+----------------------------------------------------------------------------------------------------------------------------------+--------------------+
| sa                                                                                                                               | false              |
| sa                                                                                                                               | true               |
+----------------------------------------------------------------------------------------------------------------------------------+--------------------+

-- end of setup

-- thread writer
> set schema 'concurrency';
0 rows affected.
> insert into t1 values (sys_boot.mgmt.sleep(10000));
1 row affected.
-- end of thread writer

-- thread reader
> select session_user_name,is_txn_in_progress
> from sys_root.dba_sessions order by 1;
+----------------------------------------------------------------------------------------------------------------------------------+--------------------+
| SESSION_USER_NAME                                                                                                                | IS_TXN_IN_PROGRESS |
+----------------------------------------------------------------------------------------------------------------------------------+--------------------+
| sa                                                                                                                               | false              |
| sa                                                                                                                               | true               |
| sa                                                                                                                               | true               |
+----------------------------------------------------------------------------------------------------------------------------------+--------------------+

-- end of thread reader

